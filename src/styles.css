@tailwind base;
@tailwind components;
@tailwind utilities;

/* design tokens & minor utility classes */
:root{
  --panel-bg: #ffffff;
  --muted: #6b7280;
}

/* scrollbar */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-thumb { background: rgba(99,102,241,0.15); border-radius: 10px; }

/* composer focus ring */
.composer:focus-within {
  box-shadow: 0 2px 8px rgba(37,99,235,0.12);
  border-radius: 12px;
}

/* subtle glass card */
.glass {
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
  border: 1px solid rgba(15,23,42,0.04);
  backdrop-filter: blur(6px);
}
/* src/index.css - Tailwind entry + app-specific utilities */

/* Tailwind base utilities (required) */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------------------------
   Design tokens & variables
   --------------------------- */
:root {
  --panel-bg: #ffffff;
  --muted: #6b7280;
  --brand-500: #6366f1; /* indigo-500 */
  --brand-600: #4f46e5; /* indigo-600 */
  --glass-border: rgba(15,23,42,0.04);
  --shadow-soft: 0 10px 30px rgba(2,6,23,0.06);
}

/* ---------------------------
   Global scrollbar (light)
   --------------------------- */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(99,102,241,0.12), rgba(99,102,241,0.08));
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
::-webkit-scrollbar-track {
  background: transparent;
}

/* ---------------------------
   Base helpers
   --------------------------- */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* composer focus ring (keeps your rule but more accessible) */
.composer:focus-within {
  box-shadow: 0 6px 20px rgba(79,70,229,0.12);
  border-radius: 12px;
  outline: none;
}

/* subtle glass card */
.glass {
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(6px);
}

/* soft card shadow */
.card {
  background: var(--panel-bg);
  border-radius: 12px;
  box-shadow: var(--shadow-soft);
}

/* accessible focus for interactive items */
:focus {
  outline: none;
  box-shadow: 0 0 0 4px rgba(99,102,241,0.12);
  border-radius: 6px;
}

/* ---------------------------
   Preloader / spinner
   --------------------------- */
@keyframes spin-smooth {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.animate-spin-smooth {
  animation: spin-smooth 1s linear infinite;
}

/* static preloader container in index.html */
#preloader-root {
  background: white;
  transition: opacity 280ms ease;
  z-index: 9999;
}

/* preloader small details */
.preloader-dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--brand-600);
  display: inline-block;
  margin: 0 4px;
  opacity: 0.95;
  transform-origin: center;
}

/* ---------------------------
   Skeleton / shimmer loaders
   --------------------------- */
.skeleton {
  position: relative;
  overflow: hidden;
  background: linear-gradient(90deg, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.05) 50%, rgba(255,255,255,0.02) 100%);
  background-size: 200% 100%;
  border-radius: 0.375rem;
  animation: shimmer 1.2s linear infinite;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* helper sizes */
.skel-text { height: 0.875rem; width: 100%; }
.skel-title { height: 1.25rem; width: 60%; margin-bottom: 0.5rem; }

/* ---------------------------
   Micro-interactions
   --------------------------- */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

.fade-in-up {
  animation: fadeInUp 360ms cubic-bezier(.2,.9,.2,1) both;
}

@keyframes pop {
  0% { transform: scale(.96); opacity: 0.0; }
  60% { transform: scale(1.02); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.pop {
  animation: pop 260ms cubic-bezier(.2,.9,.2,1) both;
}

/* ---------------------------
   Chat launcher & widget helpers
   --------------------------- */
.chat-launcher {
  box-shadow: 0 12px 30px rgba(2,6,23,0.12);
  transition: transform 180ms ease, box-shadow 180ms ease;
}
.chat-launcher:hover { transform: translateY(-3px); }

.chat-window {
  width: 100%;
  max-width: 420px;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(2,6,23,0.04);
  background: white;
}

/* bubble helpers */
.bubble {
  padding: 10px 14px;
  border-radius: 12px;
  max-width: 72%;
  display: inline-block;
  word-break: break-word;
}
.bubble.bot { background: #f3f4f6; color: #111827; }
.bubble.customer { background: var(--brand-600); color: white; }
.bubble.agent { background: #10b981; color: white; }

/* timestamps and meta */
.bubble-meta { font-size: 10px; color: var(--muted); margin-top: 6px; }

/* conversation container for correct alignment */
.chat-scroll {
  max-height: 420px;
  overflow-y: auto;
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* small avatar helper */
.avatar-sm {
  width: 36px;
  height: 36px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: white;
}

/* ---------------------------
   Composer / input styles
   --------------------------- */
.composer {
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 10px;
  border-top: 1px solid rgba(2,6,23,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
}
.composer input[type="text"], .composer input[type="search"], .composer textarea {
  flex: 1;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(2,6,23,0.06);
  background: white;
  font-size: 14px;
}

/* disabled state */
.button-disabled {
  opacity: 0.5;
  pointer-events: none;
}

/* ---------------------------
   Small helper utilities
   --------------------------- */
.center-abs {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

/* responsive: full-width chat on small screens */
@media (max-width: 640px) {
  .chat-window { max-width: 100vw; border-radius: 12px; right: 0; left: 0; margin: 0 12px; }
  .chat-scroll { max-height: calc(100vh - 220px); }
}

/* ---------------------------
   Dark mode friendly overrides (optional)
   To use, toggle a 'dark' class on <html> or <body>
   --------------------------- */
.dark {
  --panel-bg: #0b1220;
  --muted: #94a3b8;
  --brand-500: #8b5cf6;
  --brand-600: #7c3aed;
}

.dark body {
  background: #041022;
  color: #e6eef8;
}

.dark .glass {
  background: linear-gradient(180deg, rgba(10,14,20,0.55), rgba(10,14,20,0.5));
  border: 1px solid rgba(255,255,255,0.03);
}

/* ---------------------------
   Small accessibility helper for high-contrast focus rings
   --------------------------- */
@media (prefers-contrast: more) {
  :focus {
    box-shadow: 0 0 0 4px rgba(99,102,241,0.28) !important;
  }
}
